<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button [defaultHref]="'servers/' + server.id"></ion-back-button>
    </ion-buttons>
    <ion-title>Apps</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding-top">

  <div *ngIf="loading">
    Loading
  </div>

  <div *ngIf="!loading">

    <ion-item *ngIf="error" style="margin-bottom: 16px;">
      <ion-text class="ion-text-wrap" color="danger">{{error}}</ion-text>
    </ion-item>

    <ion-card *ngFor="let app of apps" [routerLink]="[app.id]">
        <ion-item>
          <ion-avatar slot="start">
            <img [src]="app.iconURL" alt="icon" />
          </ion-avatar>
          <ion-label>
            <h1>{{ app.title }}</h1>
            <ion-text *ngIf="app.versionInstalled" color="success"><p>Installed</p></ion-text>
            <ion-text *ngIf="!app.versionInstalled" color="warning"><p>Not installed</p></ion-text>
          </ion-label>
        </ion-item>
      <ion-card-content>
        {{ app.descriptionShort }}
      </ion-card-content>
    </ion-card>
    
  </div>

</ion-content>
